<Window x:Class="SmartHome.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Умный Дом" Height="700" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Window.Resources>
        <!-- Стиль для кнопок с закругленными углами -->
        <!-- Обновленный стиль для кнопок с закругленными углами -->
        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" 
                        Background="{TemplateBinding Background}" 
                        CornerRadius="8"
                        SnapsToDevicePixels="True">
                            <ContentPresenter x:Name="ContentPresenter"
                                      Content="{TemplateBinding Content}"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Margin="{TemplateBinding Padding}"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#1976D2"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#0D47A1"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для вкладок -->
        <Style x:Key="TabItemStyle" TargetType="TabItem">
            <Setter Property="Background" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" 
                                CornerRadius="8,8,0,0" Margin="2,0,2,0">
                            <ContentPresenter x:Name="ContentSite" VerticalAlignment="Center" 
                                              HorizontalAlignment="Center" 
                                              ContentSource="Header" Margin="10,5"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#2196F3"/>
                                <Setter TargetName="ContentSite" Property="TextElement.Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#BBDEFB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для карточек устройств -->
        <Style x:Key="DeviceCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Opacity="0.1" ShadowDepth="2"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для индикаторов состояния -->
        <Style x:Key="StatusIndicatorStyle" TargetType="Ellipse">
            <Setter Property="Width" Value="20"/>
            <Setter Property="Height" Value="20"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
        </Style>

        <!-- Стиль для заголовков секций -->
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <!-- Стиль для показаний датчиков -->
        <Style x:Key="SensorValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#2196F3"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,10,0,5"/>
        </Style>

        <!-- Стиль для TextBox с закругленными углами -->
        <Style x:Key="RoundedTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}"
                                BorderBrush="#CCCCCC" 
                                BorderThickness="1"
                                CornerRadius="5"
                                SnapsToDevicePixels="True">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Focusable="false" 
                                          HorizontalScrollBarVisibility="Hidden" 
                                          VerticalScrollBarVisibility="Hidden"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter TargetName="border" Property="Opacity" Value="0.56"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="border" Property="BorderBrush" Value="#7EB9F3"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="true">
                                <Setter TargetName="border" Property="BorderBrush" Value="#2196F3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Grid.Row="0" 
                   Text="🏠 Панель управления Умным Домом" 
                   FontSize="28" FontWeight="Bold" Foreground="#333333"
                   HorizontalAlignment="Center" Margin="0,0,0,20"/>

        <!-- Вкладки -->
        <TabControl Grid.Row="1" BorderThickness="0" Background="Transparent">

            <!-- Вкладка Освещение -->
            <TabItem Header="💡 Освещение" Style="{StaticResource TabItemStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- Статус освещения -->
                        <Border Style="{StaticResource DeviceCardStyle}">
                            <StackPanel>
                                <TextBlock Text="Статус освещения в комнатах" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <!-- Гостиная -->
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" MinWidth="160">
                                        <StackPanel>
                                            <TextBlock Text="Гостиная" FontWeight="SemiBold" Margin="0,0,0,5" TextAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                                                <TextBlock Text="Свет:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="LivingRoomLightIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                             Fill="Red" ToolTip="Свет выключен"/>
                                            </StackPanel>
                                            <Button Content="Переключить" Style="{StaticResource RoundedButtonStyle}" 
                                        Margin="0,5,0,0" Width="120" Click="LivingRoomLight_Click"
                                        FontSize="12" Padding="10,6"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Кухня -->
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" MinWidth="160">
                                        <StackPanel>
                                            <TextBlock Text="Кухня" FontWeight="SemiBold" Margin="0,0,0,5" TextAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                                                <TextBlock Text="Свет:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="KitchenLightIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                             Fill="Red" ToolTip="Свет выключен"/>
                                            </StackPanel>
                                            <Button Content="Переключить" Style="{StaticResource RoundedButtonStyle}" 
                                        Margin="0,5,0,0" Width="120" Click="KitchenLight_Click"
                                        FontSize="12" Padding="10,6"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Спальня -->
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" MinWidth="160">
                                        <StackPanel>
                                            <TextBlock Text="Спальня" FontWeight="SemiBold" Margin="0,0,0,5" TextAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                                                <TextBlock Text="Свет:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="BedroomLightIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                             Fill="Red" ToolTip="Свет выключен"/>
                                            </StackPanel>
                                            <Button Content="Переключить" Style="{StaticResource RoundedButtonStyle}" 
                                        Margin="0,5,0,0" Width="120" Click="BedroomLight_Click"
                                        FontSize="12" Padding="10,6"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Ванная -->
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" MinWidth="160">
                                        <StackPanel>
                                            <TextBlock Text="Ванная" FontWeight="SemiBold" Margin="0,0,0,5" TextAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                                                <TextBlock Text="Свет:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="BathroomLightIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                             Fill="Red" ToolTip="Свет выключен"/>
                                            </StackPanel>
                                            <Button Content="Переключить" Style="{StaticResource RoundedButtonStyle}" 
                                        Margin="0,5,0,0" Width="120" Click="BathroomLight_Click"
                                        FontSize="12" Padding="10,6"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>

                                <Button Content="🔌 ВЫКЛЮЧИТЬ ВЕСЬ СВЕТ" Style="{StaticResource RoundedButtonStyle}" 
                            Background="#FF9800" Margin="0,20,0,0" Click="AllLightsOff_Click"
                            FontSize="12" Padding="15,8"/>
                            </StackPanel>
                        </Border>

                        <!-- Наружное освещение -->
                        <Border Style="{StaticResource DeviceCardStyle}" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="Наружное освещение" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" MinWidth="160">
                                        <StackPanel>
                                            <TextBlock Text="Фасад дома" FontWeight="SemiBold" Margin="0,0,0,5" TextAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                                                <TextBlock Text="Свет:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="FacadeLightIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                             Fill="Red" ToolTip="Свет выключен"/>
                                            </StackPanel>
                                            <Button Content="Переключить" Style="{StaticResource RoundedButtonStyle}" 
                                        Margin="0,5,0,0" Width="120" Click="FacadeLight_Click"
                                        FontSize="12" Padding="10,6"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" MinWidth="160">
                                        <StackPanel>
                                            <TextBlock Text="Сад" FontWeight="SemiBold" Margin="0,0,0,5" TextAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                                                <TextBlock Text="Свет:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="GardenLightIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                             Fill="Red" ToolTip="Свет выключен"/>
                                            </StackPanel>
                                            <Button Content="Переключить" Style="{StaticResource RoundedButtonStyle}" 
                                        Margin="0,5,0,0" Width="120" Click="GardenLight_Click"
                                        FontSize="12" Padding="10,6"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка Климат-контроль -->
            <TabItem Header="🌡️ Климат" Style="{StaticResource TabItemStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- Текущая температура -->
                        <Border Style="{StaticResource DeviceCardStyle}">
                            <StackPanel>
                                <TextBlock Text="Текущие показатели" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel HorizontalAlignment="Center">
                                    <Border Background="#E3F2FD" CornerRadius="10" Padding="20" Margin="10">
                                        <StackPanel>
                                            <TextBlock Text="🌡️ Температура" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <TextBlock x:Name="TemperatureValue" Text="22°C" Style="{StaticResource SensorValueStyle}"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <Button Content="-" Style="{StaticResource RoundedButtonStyle}" 
                                                        Width="40" Click="TemperatureDown_Click"/>
                                                <Button Content="+" Style="{StaticResource RoundedButtonStyle}" 
                                                        Width="40" Margin="10,0,0,0" Click="TemperatureUp_Click"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#E8F5E8" CornerRadius="10" Padding="20" Margin="10">
                                        <StackPanel>
                                            <TextBlock Text="💧 Влажность" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <TextBlock x:Name="HumidityValue" Text="45%" Style="{StaticResource SensorValueStyle}"/>
                                            <TextBlock Text="Комфортно" Foreground="#4CAF50" HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#FFF3E0" CornerRadius="10" Padding="20" Margin="10">
                                        <StackPanel>
                                            <TextBlock Text="💨 Качество воздуха" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <TextBlock x:Name="AirQualityValue" Text="Хорошо" Style="{StaticResource SensorValueStyle}"/>
                                            <TextBlock Text="AQI: 35" Foreground="#4CAF50" HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>

                        <!-- Управление климатом -->
                        <Border Style="{StaticResource DeviceCardStyle}" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="Управление системами" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="Кондиционер" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="AirConditionerIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Кондиционер выключен"/>
                                            </StackPanel>
                                            <Button x:Name="AirConditionerButton" Content="Включить" 
                                                    Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="ToggleAirConditioner_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="Обогреватель" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="HeaterIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Обогреватель выключен"/>
                                            </StackPanel>
                                            <Button x:Name="HeaterButton" Content="Включить" 
                                                    Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="ToggleHeater_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="Увлажнитель" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="HumidifierIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Увлажнитель выключен"/>
                                            </StackPanel>
                                            <Button x:Name="HumidifierButton" Content="Включить" 
                                                    Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="ToggleHumidifier_Click"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка Безопасность -->
            <TabItem Header="🔒 Безопасность" Style="{StaticResource TabItemStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- Статус безопасности -->
                        <Border Style="{StaticResource DeviceCardStyle}">
                            <StackPanel>
                                <TextBlock Text="Статус безопасности" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel HorizontalAlignment="Center">
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="20" Margin="10" Width="180">
                                        <StackPanel>
                                            <TextBlock Text="🚨 Сигнализация" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="AlarmIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Сигнализация выключена"/>
                                            </StackPanel>
                                            <Button x:Name="AlarmButton" Content="Включить" 
                                                    Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#F44336" Click="ToggleAlarm_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="20" Margin="10" Width="180">
                                        <StackPanel>
                                            <TextBlock Text="📹 Камеры" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="CamerasIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Green" ToolTip="Камеры активны"/>
                                            </StackPanel>
                                            <Button Content="Просмотр" Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="ShowCameras_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="20" Margin="10" Width="180">
                                        <StackPanel>
                                            <TextBlock Text="🚪 Датчики дверей" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Статус:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="DoorsIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Green" ToolTip="Все двери закрыты"/>
                                            </StackPanel>
                                            <Button Content="Проверить" Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="CheckDoorsStatus_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="20" Margin="10" Width="180">
                                        <StackPanel>
                                            <TextBlock Text="🪟 Датчики окон" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Статус:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="WindowsIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Green" ToolTip="Все окна закрыты"/>
                                            </StackPanel>
                                            <Button Content="Проверить" Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="CheckWindowsStatus_Click"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>

                        <!-- Журнал событий -->
                        <Border Style="{StaticResource DeviceCardStyle}" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="Журнал событий" Style="{StaticResource SectionHeaderStyle}"/>
                                <Border Background="#FAFAFA" CornerRadius="8" Padding="10" Height="150">
                                    <ScrollViewer>
                                        <StackPanel x:Name="SecurityLogPanel">
                                            <TextBlock Text="🟢 Система безопасности активирована" Foreground="#4CAF50" Margin="0,2"/>
                                            <TextBlock Text="🔵 Камеры наблюдения работают в нормальном режиме" Foreground="#2196F3" Margin="0,2"/>
                                            <TextBlock Text="🟢 Все датчики дверей и окон в норме" Foreground="#4CAF50" Margin="0,2"/>
                                        </StackPanel>
                                    </ScrollViewer>
                                </Border>
                                <Button Content="Очистить журнал" Style="{StaticResource RoundedButtonStyle}" 
                                        Background="#795548" Margin="0,10,0,0" Width="130" Click="ClearSecurityLog_Click"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка Мультимедиа -->
            <TabItem Header="🎵 Мультимедиа" Style="{StaticResource TabItemStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- Управление медиа -->
                        <Border Style="{StaticResource DeviceCardStyle}">
                            <StackPanel>
                                <TextBlock Text="Управление медиаустройствами" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="🎵 Аудиосистема" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="AudioIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Аудиосистема выключена"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <Button Content="▶" Style="{StaticResource RoundedButtonStyle}" 
                                                        Width="40" Click="PlayMusic_Click"/>
                                                <Button Content="⏸" Style="{StaticResource RoundedButtonStyle}" 
                                                        Width="40" Margin="5,0" Click="PauseMusic_Click"/>
                                                <Button Content="⏹" Style="{StaticResource RoundedButtonStyle}" 
                                                        Width="40" Click="StopMusic_Click"/>
                                            </StackPanel>
                                            <TextBlock x:Name="NowPlayingText" Text="Не воспроизводится" 
                                                       HorizontalAlignment="Center" Margin="0,10,0,0" FontStyle="Italic"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="📺 Телевизор" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="TVIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Телевизор выключен"/>
                                            </StackPanel>
                                            <Button x:Name="TVButton" Content="Включить" 
                                                    Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="ToggleTV_Click"/>
                                            <TextBlock x:Name="TVChannelText" Text="Канал: -" 
                                                       HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="🎬 Проектор" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                                                <TextBlock Text="Состояние:" VerticalAlignment="Center"/>
                                                <Ellipse x:Name="ProjectorIndicator" Style="{StaticResource StatusIndicatorStyle}" 
                                                         Fill="Red" ToolTip="Проектор выключен"/>
                                            </StackPanel>
                                            <Button x:Name="ProjectorButton" Content="Включить" 
                                                    Style="{StaticResource RoundedButtonStyle}" 
                                                    Click="ToggleProjector_Click"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>

                        <!-- Сценарии мультимедиа -->
                        <Border Style="{StaticResource DeviceCardStyle}" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="Медиасценарии" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <Button Content="🎬 Кино режим" Style="{StaticResource RoundedButtonStyle}" 
                                            Background="#9C27B0" Margin="5" Width="140" Click="CinemaMode_Click"/>
                                    <Button Content="🎵 Музыкальный вечер" Style="{StaticResource RoundedButtonStyle}" 
                                            Background="#E91E63" Margin="5" Width="140" Click="MusicEvening_Click"/>
                                    <Button Content="📺 Спортивный режим" Style="{StaticResource RoundedButtonStyle}" 
                                            Background="#FF9800" Margin="5" Width="140" Click="SportsMode_Click"/>
                                    <Button Content="🔇 Выключить всё" Style="{StaticResource RoundedButtonStyle}" 
                                            Background="#607D8B" Margin="5" Width="140" Click="AllMediaOff_Click"/>
                                </WrapPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка Сценарии -->
            <TabItem Header="⚡ Сценарии" Style="{StaticResource TabItemStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- Быстрые сценарии -->
                        <Border Style="{StaticResource DeviceCardStyle}">
                            <StackPanel>
                                <TextBlock Text="Быстрые сценарии" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <Border Background="#FFF9C4" CornerRadius="10" Padding="20" Margin="10" Width="220">
                                        <StackPanel>
                                            <TextBlock Text="🌅 Утро" FontWeight="Bold" FontSize="16" HorizontalAlignment="Center"/>
                                            <TextBlock Text="Плавное пробуждение" TextWrapping="Wrap" TextAlignment="Center" Margin="0,5,0,10"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#FFC107" Click="MorningScenario_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#FFE0B2" CornerRadius="10" Padding="20" Margin="10" Width="220">
                                        <StackPanel>
                                            <TextBlock Text="🌆 Вечер" FontWeight="Bold" FontSize="16" HorizontalAlignment="Center"/>
                                            <TextBlock Text="Релаксация после работы" TextWrapping="Wrap" TextAlignment="Center" Margin="0,5,0,10"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#FF9800" Click="EveningScenario_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#D1C4E9" CornerRadius="10" Padding="20" Margin="10" Width="220">
                                        <StackPanel>
                                            <TextBlock Text="🌙 Ночь" FontWeight="Bold" FontSize="16" HorizontalAlignment="Center"/>
                                            <TextBlock Text="Подготовка ко сну" TextWrapping="Wrap" TextAlignment="Center" Margin="0,5,0,10"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#673AB7" Click="NightScenario_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F8BBD0" CornerRadius="10" Padding="20" Margin="10" Width="220">
                                        <StackPanel>
                                            <TextBlock Text="👥 Гости" FontWeight="Bold" FontSize="16" HorizontalAlignment="Center"/>
                                            <TextBlock Text="Приём гостей" TextWrapping="Wrap" TextAlignment="Center" Margin="0,5,0,10"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#E91E63" Click="GuestsScenario_Click"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>

                        <!-- Пользовательские сценарии -->
                        <Border Style="{StaticResource DeviceCardStyle}" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="Пользовательские сценарии" Style="{StaticResource SectionHeaderStyle}"/>
                                <WrapPanel>
                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="Рабочий режим" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#795548" Margin="0,10,0,0" Click="WorkScenario_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="Экономия энергии" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#4CAF50" Margin="0,10,0,0" Click="EnergySaveScenario_Click"/>
                                        </StackPanel>
                                    </Border>

                                    <Border Background="#F5F5F5" CornerRadius="10" Padding="15" Margin="5" Width="200">
                                        <StackPanel>
                                            <TextBlock Text="Отпуск" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                            <Button Content="Активировать" Style="{StaticResource RoundedButtonStyle}" 
                                                    Background="#2196F3" Margin="0,10,0,0" Click="VacationScenario_Click"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </Border>

                        <!-- Создание сценария -->
                        <Border Style="{StaticResource DeviceCardStyle}" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="Создать свой сценарий" Style="{StaticResource SectionHeaderStyle}"/>
                                <TextBox x:Name="NewScenarioName" 
                                         Text="Новый сценарий" 
                                         Style="{StaticResource RoundedTextBoxStyle}"
                                         Margin="0,0,0,10"/>
                                <Button Content="➕ Создать сценарий" Style="{StaticResource RoundedButtonStyle}" 
                                        Background="#009688" Click="CreateScenario_Click"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <!-- Нижняя панель -->
        <Border Grid.Row="2" Background="White" CornerRadius="12" Padding="15" Margin="0,20,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="⚙️ Настройки" Style="{StaticResource RoundedButtonStyle}" Margin="0,0,15,0" 
                        Background="#607D8B" Width="130" Click="Settings_Click"/>
                <Button Content="📊 Статистика" Style="{StaticResource RoundedButtonStyle}" Margin="0,0,15,0" 
                        Background="#009688" Width="130" Click="Statistics_Click"/>
                <Button Content="❓ Помощь" Style="{StaticResource RoundedButtonStyle}" Margin="0,0,15,0" 
                        Background="#795548" Width="120" Click="Help_Click"/>
                <Button Content="🚪 Выход" Style="{StaticResource RoundedButtonStyle}" 
                        Background="#F44336" Width="120" Click="Exit_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>